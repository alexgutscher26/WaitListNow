{"version":3,"file":"payment-router.js","sourceRoot":"","sources":["payment-router.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,qBAAqB,EAAE,MAAM,cAAc,CAAC;AACrD,OAAO,EAAE,MAAM,EAAE,MAAM,uBAAuB,CAAC;AAC/C,OAAO,EAAE,gBAAgB,EAAE,MAAM,eAAe,CAAC;AAEjD,MAAM,CAAC,IAAM,aAAa,GAAG,MAAM,CAAC;IAClC,qBAAqB,EAAE,gBAAgB,CAAC,QAAQ,CAAC,iEAAO,EAAU;;YAAR,CAAC,OAAA,EAAE,GAAG,SAAA;;;;oBACtD,IAAI,GAAK,GAAG,KAAR,CAAS;oBAEL,qBAAM,qBAAqB,CAAC;4BAC1C,SAAS,EAAE,IAAI,CAAC,KAAK;4BACrB,MAAM,EAAE,IAAI,CAAC,EAAE;yBAChB,CAAC,EAAA;;oBAHI,OAAO,GAAG,SAGd;oBAEF,sBAAO,CAAC,CAAC,IAAI,CAAC,EAAE,GAAG,EAAE,OAAO,CAAC,GAAG,EAAE,CAAC,EAAC;;;SACrC,CAAC;IAEF,WAAW,EAAE,gBAAgB,CAAC,KAAK,CAAC,iEAAO,EAAU;;YAAR,CAAC,OAAA,EAAE,GAAG,SAAA;;YACzC,IAAI,GAAK,GAAG,KAAR,CAAS;YACrB,sBAAO,CAAC,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,CAAC,EAAC;;SACpC,CAAC;CACH,CAAC,CAAC","sourcesContent":["import { createCheckoutSession } from '@/lib/stripe';\r\nimport { router } from '../__internals/router';\r\nimport { privateProcedure } from '../procedures';\r\n\r\nexport const paymentRouter = router({\r\n  createCheckoutSession: privateProcedure.mutation(async ({ c, ctx }) => {\r\n    const { user } = ctx;\r\n\r\n    const session = await createCheckoutSession({\r\n      userEmail: user.email,\r\n      userId: user.id,\r\n    });\r\n\r\n    return c.json({ url: session.url });\r\n  }),\r\n\r\n  getUserPlan: privateProcedure.query(async ({ c, ctx }) => {\r\n    const { user } = ctx;\r\n    return c.json({ plan: user.plan });\r\n  }),\r\n});\r\n"]}