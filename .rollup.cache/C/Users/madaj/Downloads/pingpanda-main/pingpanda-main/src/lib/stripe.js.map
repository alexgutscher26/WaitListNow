{"version":3,"file":"stripe.js","sourceRoot":"","sources":["stripe.ts"],"names":[],"mappings":";;AAAA,OAAO,MAAM,MAAM,QAAQ,CAAC;AAE5B,MAAM,CAAC,IAAM,MAAM,GAAG,IAAI,MAAM,CAAC,MAAA,OAAO,CAAC,GAAG,CAAC,iBAAiB,mCAAI,EAAE,EAAE;IACpE,UAAU,EAAE,kBAAkB;IAC9B,UAAU,EAAE,IAAI;CACjB,CAAC,CAAC;AAEH;;GAEG;AACH,MAAM,CAAC,IAAM,qBAAqB,GAAG,iEAAO,EAM3C;;QALC,SAAS,eAAA,EACT,MAAM,YAAA;;;oBAKU,qBAAM,MAAM,CAAC,QAAQ,CAAC,QAAQ,CAAC,MAAM,CAAC;oBACpD,wCAAwC;oBACxC,UAAU,EAAE;wBACV;4BACE,KAAK,EAAE,gCAAgC;4BACvC,QAAQ,EAAE,CAAC;yBACZ;qBACF;oBACD,IAAI,EAAE,SAAS;oBACf,WAAW,EAAE,UAAG,OAAO,CAAC,GAAG,CAAC,mBAAmB,4BAAyB;oBACxE,UAAU,EAAE,UAAG,OAAO,CAAC,GAAG,CAAC,mBAAmB,aAAU;oBACxD,cAAc,EAAE,SAAS;oBACzB,QAAQ,EAAE;wBACR,MAAM,QAAA;qBACP;iBACF,CAAC,EAAA;;gBAfI,OAAO,GAAG,SAed;gBAEF,sBAAO,OAAO,EAAC;;;KAChB,CAAC","sourcesContent":["import Stripe from 'stripe';\r\n\r\nexport const stripe = new Stripe(process.env.STRIPE_SECRET_KEY ?? '', {\r\n  apiVersion: '2025-05-28.basil',\r\n  typescript: true,\r\n});\r\n\r\n/**\r\n * Creates a Stripe checkout session for payment with specified user details.\r\n */\r\nexport const createCheckoutSession = async ({\r\n  userEmail,\r\n  userId,\r\n}: {\r\n  userEmail: string;\r\n  userId: string;\r\n}) => {\r\n  const session = await stripe.checkout.sessions.create({\r\n    // TODO: change price and add more plans\r\n    line_items: [\r\n      {\r\n        price: 'price_1QBHVBA19umTXGu8gzhUCSG7',\r\n        quantity: 1,\r\n      },\r\n    ],\r\n    mode: 'payment',\r\n    success_url: `${process.env.NEXT_PUBLIC_APP_URL}/dashboard?success=true`,\r\n    cancel_url: `${process.env.NEXT_PUBLIC_APP_URL}/pricing`,\r\n    customer_email: userEmail,\r\n    metadata: {\r\n      userId,\r\n    },\r\n  });\r\n\r\n  return session;\r\n};\r\n"]}