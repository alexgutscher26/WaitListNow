{"version":3,"file":"index.js","sourceRoot":"","sources":["index.tsx"],"names":[],"mappings":";;AACA,OAAO,EAAE,UAAU,EAAE,MAAM,kBAAkB,CAAC;AAC9C,OAAO,EAAE,cAAc,EAAuB,MAAM,+BAA+B,CAAC;AAEpF,8BAA8B;AAC9B,IAAM,aAAa,GAAG,QAAQ,CAAC,aAAyC,CAAC;AAEzE,IAAI,aAAa,EAAE,CAAC;IAClB,0BAA0B;IAC1B,IAAM,OAAO,GAAG,UAAC,IAAY,EAAE,QAAiB,IAAK,OAAA,aAAa,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,QAAQ,EAA5C,CAA4C,CAAC;IAClG,IAAM,UAAU,GAAG,MAAA,OAAO,CAAC,kBAAkB,EAAE,KAAK,CAAC,mCAAI,KAAK,CAAC;IAC/D,IAAM,MAAM,GAAG,OAAO,CAAC,cAAc,EAAE,SAAS,CAAC,CAAC;IAElD,sCAAsC;IACtC,IAAM,OAAK,GAAiC;QAC1C,UAAU,EAAE,MAAA,OAAO,CAAC,kBAAkB,EAAE,SAAS,CAAC,mCAAI,SAAS;QAC/D,WAAW,EAAE,MAAA,OAAO,CAAC,oBAAoB,EAAE,SAAS,CAAC,mCAAI,SAAS;QAClE,eAAe,EAAE,MAAA,OAAO,CAAC,wBAAwB,EAAE,SAAS,CAAC,mCAAI,SAAS;QAC1E,eAAe,EAAE,MAAA,OAAO,CAAC,uBAAuB,EAAE,SAAS,CAAC,mCAAI,SAAS;QACzE,SAAS,EAAE,MAAA,OAAO,CAAC,iBAAiB,EAAE,SAAS,CAAC,mCAAI,SAAS;QAC7D,YAAY,EAAE,OAAO,CAAC,qBAAqB,EAAE,SAAS,CAAC,KAAK,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,qBAAqB,EAAE,SAAS,CAAC,KAAK,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,SAAS;QAC1I,UAAU,EAAE,MAAA,OAAO,CAAC,kBAAkB,EAAE,SAAS,CAAC,mCAAI,SAAS;QAC/D,UAAU,EAAE,OAAO,CAAC,kBAAkB,EAAE,MAAM,CAAC,KAAK,MAAM;QAC1D,UAAU,EAAE,MAAC,OAAO,CAAC,kBAAkB,EAAE,SAAS,CAA0B,mCAAI,SAAS;KAC1F,CAAC;IAEF,2CAA2C;IAC3C,MAAM,CAAC,IAAI,CAAC,OAAK,CAAC,CAAC,OAAO,CAAC,UAAC,GAAG;QAC7B,IAAM,QAAQ,GAAG,GAAgC,CAAC;QAClD,IAAI,OAAK,CAAC,QAAQ,CAAC,KAAK,SAAS,EAAE,CAAC;YAClC,OAAO,OAAK,CAAC,QAAQ,CAAC,CAAC;QACzB,CAAC;IACH,CAAC,CAAC,CAAC;IAEH,yBAAyB;IACzB,IAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;IAChD,SAAS,CAAC,EAAE,GAAG,oCAA6B,UAAU,CAAE,CAAC;IACzD,MAAA,aAAa,CAAC,UAAU,0CAAE,YAAY,CAAC,SAAS,EAAE,aAAa,CAAC,WAAW,CAAC,CAAC;IAE7E,oBAAoB;IACpB,UAAU,CAAC,SAAS,CAAC,CAAC,MAAM,CAC1B,KAAC,cAAc,IACb,UAAU,EAAE,UAAU,EACtB,KAAK,EAAE,OAAK,EACZ,MAAM,EAAE,MAAM,GACd,CACH,CAAC;AACJ,CAAC","sourcesContent":["import React from 'react';\r\nimport { createRoot } from 'react-dom/client';\r\nimport { WaitlistWidget, WaitlistWidgetStyle } from '../components/waitlist-widget';\r\n\r\n// Find the current script tag\r\nconst currentScript = document.currentScript as HTMLScriptElement | null;\r\n\r\nif (currentScript) {\r\n  // Extract data attributes\r\n  const getAttr = (name: string, fallback?: string) => currentScript.getAttribute(name) || fallback;\r\n  const waitlistId = getAttr('data-waitlist-id', 'new') ?? 'new';\r\n  const apiKey = getAttr('data-api-key', undefined);\r\n\r\n  // Map data attributes to style object\r\n  const style: Partial<WaitlistWidgetStyle> = {\r\n    buttonText: getAttr('data-button-text', undefined) ?? undefined,\r\n    buttonColor: getAttr('data-primary-color', undefined) ?? undefined,\r\n    buttonTextColor: getAttr('data-button-text-color', undefined) ?? undefined,\r\n    backgroundColor: getAttr('data-background-color', undefined) ?? undefined,\r\n    textColor: getAttr('data-text-color', undefined) ?? undefined,\r\n    borderRadius: getAttr('data-button-rounded', undefined) === 'md' ? 8 : getAttr('data-button-rounded', undefined) === 'lg' ? 16 : undefined,\r\n    fontFamily: getAttr('data-font-family', undefined) ?? undefined,\r\n    showLabels: getAttr('data-show-labels', 'true') === 'true',\r\n    formLayout: (getAttr('data-form-layout', 'stacked') as 'stacked' | 'inline') ?? undefined,\r\n  };\r\n\r\n  // Remove undefined keys in a type-safe way\r\n  Object.keys(style).forEach((key) => {\r\n    const typedKey = key as keyof WaitlistWidgetStyle;\r\n    if (style[typedKey] === undefined) {\r\n      delete style[typedKey];\r\n    }\r\n  });\r\n\r\n  // Create a container div\r\n  const container = document.createElement('div');\r\n  container.id = `waitlist-widget-container-${waitlistId}`;\r\n  currentScript.parentNode?.insertBefore(container, currentScript.nextSibling);\r\n\r\n  // Render the widget\r\n  createRoot(container).render(\r\n    <WaitlistWidget\r\n      waitlistId={waitlistId}\r\n      style={style}\r\n      apiKey={apiKey}\r\n    />\r\n  );\r\n} "]}