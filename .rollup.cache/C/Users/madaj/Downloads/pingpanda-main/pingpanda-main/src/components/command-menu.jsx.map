{"version":3,"file":"command-menu.jsx","sourceRoot":"","sources":["command-menu.tsx"],"names":[],"mappings":"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","sourcesContent":["'use client';\n\nimport { Command as CommandPrimitive } from 'cmdk';\nimport { Search, X, ArrowDown, Loader2 } from 'lucide-react'; \nimport * as React from 'react';\n\n// Extend the HTMLAttributes interface to include cmdk-input-wrapper\ndeclare module 'react' {\n  interface HTMLAttributes<T> extends React.AriaAttributes, React.DOMAttributes<T> {\n    'cmdk-input-wrapper'?: string;\n  }\n}\n\nimport { cn } from '@/lib/utils';\nimport { Dialog, DialogContent } from '@/components/ui/dialog';\n\n// Enhanced Command with better performance and accessibility\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive> & {\n    loading?: boolean;\n    shouldFilter?: boolean;\n  }\n>(({ className, loading, shouldFilter = true, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    shouldFilter={shouldFilter}\n    className={cn(\n      'flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground',\n      'focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2',\n      className,\n    )}\n    {...props}\n  />\n));\nCommand.displayName = CommandPrimitive.displayName;\n\n// Enhanced CommandDialog with keyboard shortcuts and better UX\n/**\n * CommandDialog component that wraps a dialog with command interface.\n *\n * This component manages keyboard shortcuts for opening and closing the dialog,\n * as well as rendering the command interface with optional shortcut instructions.\n * It uses React hooks to handle side effects, specifically adding and removing\n * event listeners for keyboard events. The dialog's open state is controlled\n * by props, and it passes down necessary props to its child components.\n */\nconst CommandDialog = ({\n  children,\n  open,\n  onOpenChange,\n  showShortcuts = true,\n  ...props\n}: React.ComponentProps<typeof Command> & {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  showShortcuts?: boolean;\n}) => {\n  // Handle keyboard shortcuts\n  React.useEffect(() => {\n    /**\n     * Toggles an element's visibility based on keyboard events.\n     *\n     * This function listens for keyboard events and performs actions based on the key pressed:\n     * - If 'k' is pressed with either the metaKey or ctrlKey, it toggles the open state of an element.\n     * - If 'Escape' is pressed and the element is currently open, it closes the element.\n     */\n    const down = (e: KeyboardEvent) => {\n      if (e.key === 'k' && (e.metaKey || e.ctrlKey)) {\n        e.preventDefault();\n        onOpenChange(!open);\n      }\n      if (e.key === 'Escape' && open) {\n        e.preventDefault();\n        onOpenChange(false);\n      }\n    };\n\n    document.addEventListener('keydown', down);\n    return () => document.removeEventListener('keydown', down);\n  }, [open, onOpenChange]);\n\n  return (\n    <Dialog\n      open={open}\n      onOpenChange={onOpenChange}\n      {...props}\n    >\n      <DialogContent\n        className=\"overflow-hidden p-0 shadow-lg max-w-2xl\"\n        aria-describedby={showShortcuts ? 'command-shortcuts' : undefined}\n      >\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n        {showShortcuts && (\n          <div\n            id=\"command-shortcuts\"\n            className=\"flex items-center justify-between px-3 py-2 text-xs text-muted-foreground bg-muted/50 border-t\"\n          >\n            <span>Navigate with ↑↓, select with ↵</span>\n            <span>Press Esc to close</span>\n          </div>\n        )}\n      </DialogContent>\n    </Dialog>\n  );\n};\n\n// Enhanced CommandInput with clear functionality and loading state\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input> & {\n    loading?: boolean;\n    clearable?: boolean;\n    onClear?: () => void;\n  }\n>(({ className, loading, clearable, onClear, value, ...props }, ref) => {\n  const [inputValue, setInputValue] = React.useState(value || '');\n\n  React.useEffect(() => {\n    setInputValue(value || '');\n  }, [value]);\n\n  const handleClear = React.useCallback(() => {\n    setInputValue('');\n    onClear?.();\n  }, [onClear]);\n\n  return (\n    <div\n      className=\"flex items-center border-b px-3 relative\"\n      data-cmdk-input-wrapper=\"\"\n    >\n      {loading ? (\n        <Loader2 className=\"mr-2 h-4 w-4 shrink-0 animate-spin text-muted-foreground\" />\n      ) : (\n        <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n      )}\n      <CommandPrimitive.Input\n        ref={ref}\n        value={inputValue}\n        onValueChange={setInputValue}\n        className={cn(\n          'flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50',\n          'pr-8', // Space for clear button\n          className,\n        )}\n        {...props}\n      />\n      {clearable && inputValue && (\n        <button\n          type=\"button\"\n          onClick={handleClear}\n          className=\"absolute right-3 p-1 hover:bg-accent rounded-sm transition-colors\"\n          aria-label=\"Clear search\"\n        >\n          <X className=\"h-3 w-3\" />\n        </button>\n      )}\n    </div>\n  );\n});\nCommandInput.displayName = CommandPrimitive.Input.displayName;\n\n// Enhanced CommandList with virtualization support hint\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List> & {\n    maxHeight?: number;\n  }\n>(({ className, maxHeight = 300, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn('overflow-y-auto overflow-x-hidden', className)}\n    style={{ maxHeight: `${maxHeight}px` }}\n    {...props}\n  />\n));\nCommandList.displayName = CommandPrimitive.List.displayName;\n\n// Enhanced CommandEmpty with custom content support\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty> & {\n    children?: React.ReactNode;\n  }\n>(({ children, ...props }, ref) => (\n  <CommandPrimitive.Empty\n    ref={ref}\n    className=\"py-6 text-center text-sm text-muted-foreground\"\n    {...props}\n  >\n    {children || 'No results found.'}\n  </CommandPrimitive.Empty>\n));\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName;\n\n// Enhanced CommandGroup with collapsible functionality\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group> & {\n    collapsible?: boolean;\n    defaultCollapsed?: boolean;\n  }\n>(({ className, heading, collapsible, defaultCollapsed, children, ...props }, ref) => {\n  const [collapsed, setCollapsed] = React.useState(defaultCollapsed);\n\n  if (collapsible) {\n    return (\n      <CommandPrimitive.Group\n        ref={ref}\n        className={cn('overflow-hidden p-1 text-foreground', className)}\n        {...props}\n      >\n        <button\n          className=\"w-full flex items-center justify-between px-2 py-1.5 text-xs font-medium text-muted-foreground hover:text-foreground transition-colors\"\n          onClick={() => setCollapsed(!collapsed)}\n          aria-expanded={!collapsed}\n        >\n          {heading}\n          <ArrowDown className={cn('h-3 w-3 transition-transform', collapsed && 'rotate-180')} />\n        </button>\n        <div className={cn('overflow-hidden transition-all', collapsed && 'h-0')}>{children}</div>\n      </CommandPrimitive.Group>\n    );\n  }\n\n  return (\n    <CommandPrimitive.Group\n      ref={ref}\n      heading={heading}\n      className={cn(\n        'overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground',\n        className,\n      )}\n      {...props}\n    >\n      {children}\n    </CommandPrimitive.Group>\n  );\n});\nCommandGroup.displayName = CommandPrimitive.Group.displayName;\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator\n    ref={ref}\n    className={cn('-mx-1 h-px bg-border', className)}\n    {...props}\n  />\n));\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName;\n\n// Enhanced CommandShortcut with better styling\n/**\n * Renders a styled span element with optional additional props and className.\n */\nconst CommandShortcut = ({ className, ...props }: React.HTMLAttributes<HTMLSpanElement>) => {\n  return (\n    <span\n      className={cn(\n        'ml-auto text-xs tracking-widest text-muted-foreground',\n        'bg-muted px-1.5 py-0.5 rounded font-mono',\n        className,\n      )}\n      {...props}\n    />\n  );\n};\nCommandShortcut.displayName = 'CommandShortcut';\n\n// Enhanced CommandItem with better interaction states\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  Omit<React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>, 'onSelect'> & {\n    shortcut?: string;\n    onSelect?: (value: string, event?: React.MouseEvent<HTMLElement>) => void;\n    icon?: React.ReactNode;\n    description?: string;\n  }\n>(({ className, children, shortcut, icon, description, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      'relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none',\n      'aria-selected:bg-accent aria-selected:text-accent-foreground',\n      'data-[disabled]:pointer-events-none data-[disabled]:opacity-50',\n      'hover:bg-accent/50 transition-colors',\n      'focus:bg-accent focus:text-accent-foreground',\n      className,\n    )}\n    {...props}\n  >\n    {icon && <span className=\"mr-2 flex h-4 w-4 items-center justify-center\">{icon}</span>}\n    <div className=\"flex-1\">\n      <div>{children}</div>\n      {description && <div className=\"text-xs text-muted-foreground mt-0.5\">{description}</div>}\n    </div>\n    {shortcut && <CommandShortcut>{shortcut}</CommandShortcut>}\n  </CommandPrimitive.Item>\n));\nCommandItem.displayName = CommandPrimitive.Item.displayName;\n\n// New: CommandLoading component\nconst CommandLoading = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div\n      ref={ref}\n      className={cn('py-6 text-center text-sm text-muted-foreground', className)}\n      {...props}\n    >\n      <Loader2 className=\"mx-auto h-4 w-4 animate-spin mb-2\" />\n      Loading...\n    </div>\n  ),\n);\nCommandLoading.displayName = 'CommandLoading';\n\n// New: CommandHeader component\nconst CommandHeader = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div\n      ref={ref}\n      className={cn('flex items-center px-3 py-2 border-b', className)}\n      {...props}\n    />\n  ),\n);\nCommandHeader.displayName = 'CommandHeader';\n\n// New: CommandFooter component\nconst CommandFooter = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => (\n    <div\n      ref={ref}\n      className={cn('flex items-center px-3 py-2 border-t bg-muted/50', className)}\n      {...props}\n    />\n  ),\n);\nCommandFooter.displayName = 'CommandFooter';\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n  CommandLoading,\n  CommandHeader,\n  CommandFooter,\n};\n"]}